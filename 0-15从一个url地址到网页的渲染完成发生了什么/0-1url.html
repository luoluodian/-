<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>发生了什么</title>
</head>
<body>
  
</body>
<script>
  /* 从一个url地址到最终页面的渲染完成到底发生了什么 
  1.dns解析：将域名地址解析为Ip地址   浏览器进行
  - 先读取浏览器的dns缓存  
  - 系统dns 缓存
  - 路由器的 dns缓存
  - 网络运营商的dns缓存  
  - 递归搜索：blog.baidu.com  反向查找  com - baidu - blog

  2.TCP连接
  tcp的三次握手
  - 第一次握手： 浏览器发出  告诉服务器我要发送请求了
  - 第二次握手： 由服务器发起 告诉浏览器我准备接受了  你赶紧发送吧
  - 第三次握手： 浏览器发出  我马上就发了  准备接收吧

  3.发送请求
  - 请求报文： http协议规定的通信内容

  4.响应报文
  - 响应报文

  5.渲染页面
  - 遇见html标记， 浏览器会调用html解析器解析成token并构建成dom树
  - 遇见style/link标记  浏览器会调用css解析器，处理标记并调用cssom树
  - 遇到js标记 浏览器会调用js解析器   处理script代码（修改dom树或者cssom树）
  - 将dom树和cssom 树合并成为一个渲染树  
  - 根据渲染树来计算布局，计算每个节点的几何信息
  - 布局完之后将各个节点的颜色绘制到屏幕上（渲染）

  这五个步骤不一定按照顺序执行，可能反复执行或者执行多次，如果dom树和cssom树被修改，这些步骤就会被执行多次


  6.断开连接，tcp的四次挥手
  - 第一次挥手 浏览器发起的  发给服务器：我的请求报文发送完了，你准备关闭吧
  - 第二次挥手 服务器发起的  告诉浏览器：我接收完了（请求报文），我准备关闭了，你也准备吧
  - 第三次挥手 由服务器发起  告诉浏览器： 我东西发送完了（响应报文）  你准备关闭吧
  - 第四次挥手 由浏览器发起  告诉服务器： 我接收完了（响应报文）  我准备关闭了，你也准备关闭吧

  */

</script>
</html>